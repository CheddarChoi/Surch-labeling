{"version":3,"sources":["progressBar.module.css","controlbar.module.css","redux/modules/videoTime.tsx","firebase.tsx","redux/modules/noteCollection.tsx","redux/modules/videoDuration.tsx","redux/modules/index.tsx","VideoElementContext.tsx","note-collection.tsx","note-taking.tsx","totimeString.ts","NoteIcon.tsx","ShowTime.tsx","TimeProgressBar.tsx","ProgressBar.tsx","assets/volume.png","Controlbar.tsx","assets/mute.png","assets/pause.png","assets/play.png","Video.tsx","App.tsx","login.tsx","register.tsx","AppRouter.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","SET_TIME","setTime","time","type","videoTime","initialState","setVideoTime","state","action","require","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","GoogleAuthProvider","db","firestore","SET_COLLECTION","setCollectionFromDB","videoName","videoDuration","dispatch","collection","doc","orderBy","get","then","snap","forEach","data","videoTimestamp","push","payload","setCollection","noteCollection","setNoteCollection","SET_DTIME","setVideoDTime","rootReducer","combineReducers","VideoElementContext","React","createContext","undefined","useVideoElement","useContext","VideoElementProvider","children","useState","videoElement","setVideoElement","useEffect","Provider","value","CheckableTag","Tag","tagsData","NoteCollection","props","useSelector","filter","setFilter","filteredCollection","setFilteredCollection","refList","useRef","videoDTime","useDispatch","prevFocusedTime","setPrevFocusedTime","current","slice","length","console","log","linkToTime","checkClosest","currentTime","Notecomponent","note","likes","setLikes","videoTime_num","noteCategory","category","noteCategoryList","split","noteCategoryClassName","toLowerCase","time_str","Date","toUTCString","match","className","onClick","userId","style","fontWeight","color","position","marginLeft","shape","icon","LikeOutlined","size","prev","content","downloadURL","src","alt","map","i","target","abs","min","refIndex","scrollIntoView","behavior","block","inline","margin","tag","checked","indexOf","onChange","nextSelectedTags","t","_filteredCollection","item","handleChange","index","ref","el","storage","NoteTaking","forwardRef","EditorState","createEmpty","editorState","seteditorState","image","setImage","canvas","setCanvas","showCanvas","setshowCanvas","showColorPicker","setColorPicker","editorColor","seteditorColor","showRadius","setshowRadius","brushRadius","setbrushRadius","setnoteCategory","placeholder","setplaceholder","useImperativeHandle","clearEditor","ContentState","createFromText","setonEdit","Group","e","defaultValue","Button","PictureOutlined","pause","nowPlaying","frame","captureVideoFrame","dataUri","getCurrentContent","hasText","onFocus","setIsFocused","onBlur","uuid","putString","snapshot","getDownloadURL","add","getPlainText","message","success","imgSrc","canvasWidth","canvasHeight","lazyRadius","brushColor","placement","ColorLens","LineWeight","undo","Undo","clear","Delete","baseCanvas","canvasContainer","getContext","drawImage","toDataURL","Save","window","confirm","Clear","hex","max","toTimeString","second","date","hh","getUTCHours","mm","getUTCMinutes","ss","getSeconds","NoteIcon","NoteBubble","showNote","setshowNote","setsize","notepos","fitpos","notepospercent","fitpospx","bubblecolor","EnvironmentFilled","onMouseOver","onMouseOut","styles","noteicon","left","bottom","fontSize","ShowNote","Icon","BulbFilled","PlusCircleFilled","AlertFilled","QuestionCircleFilled","notecontainer","categorybg","livenotecontent","reactionscontainer","reaction","LikeFilled","rotate180","ReplyRounded","ShowTime","timestamp","stampPos","TimeProgressBar","onMouseDown","onMouseUp","mouseIsOn","setmouseIsOn","settimestamp","setstampPos","percentNum","percent","ShowTimeStamp","event","clientWidth","nativeEvent","offsetX","bar","width","parseFloat","onTouchStart","onTouchEnd","onMouseMove","onMouseLeave","step","controller","ProgressBar","classProps","classNames","default","stepContainer","bgBar","Controlbar","onProgressChange","onPlayIconClick","totalTime","showControl","startTime","volumeClicked","setVolumeClicked","playControlClassProps","playWrapper","fadeIn","controlBarClassProps","controlBar","startTimeClassProps","text","endTimeClassProps","endTime","progressBar","play","volume","volumeIcon","muted","playBg","playIcon","memo","Video","setNowPlaying","setShowControl","setTotalTime","editorIsFocused","seteditorIsFocused","onEdit","noteTakingRef","videoSrc","Math","floor","observedVideoElement","addEventListener","addTimeUpdate","onkeydown","key","onMouseEnter","loop","playsInline","onLoadedMetadata","duration","crossOrigin","playingTime","id","marks","0.5","label","1","1.5","2","3","4","rate","playbackRate","drawerWidth","useStyles","makeStyles","theme","root","display","appBar","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","easeOut","enteringScreen","marginRight","title","flexGrow","open","right","writingMode","textOrientation","top","height","float","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","spacing","mixins","toolbar","justifyContent","contentShift","viewNotes","App","setOpen","classes","clsx","IconButton","aria-label","edge","ChevronLeft","Drawer","variant","anchor","paper","ChevronRight","fixSize","borderColot","marginBottom","Login","email","setEmail","password","setPassword","error","setError","name","onSubmit","preventDefault","signInWithEmailAndPassword","user","history","catch","htmlFor","to","Register","username","setUsername","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","AppRouter","setUser","onAuthStateChanged","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4efd4731.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgBar\":\"progressBar_bgBar__3dbDw\",\"bar\":\"progressBar_bar__35ijG\",\"controller\":\"progressBar_controller__2P8de\",\"timestamp\":\"progressBar_timestamp__3LdeS\",\"stepContainer\":\"progressBar_stepContainer__2K5eu\",\"step\":\"progressBar_step__2o476\",\"noteicon\":\"progressBar_noteicon__2ZVf3\",\"notecontainer\":\"progressBar_notecontainer__1hiPR\",\"categorybg\":\"progressBar_categorybg__26QrS\",\"livenotecontent\":\"progressBar_livenotecontent__2MPh_\",\"reactionscontainer\":\"progressBar_reactionscontainer__2WjdJ\",\"reaction\":\"progressBar_reaction__1KrIS\",\"rotate180\":\"progressBar_rotate180__2qsT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlBar\":\"controlbar_controlBar__3Sq7z\",\"progressBar\":\"controlbar_progressBar__3KyXS\",\"volume\":\"controlbar_volume__1Sp6x\",\"text\":\"controlbar_text__2vqR2\",\"endTime\":\"controlbar_endTime__3Ttfl\",\"playWrapper\":\"controlbar_playWrapper__3GnFG\",\"playBg\":\"controlbar_playBg__LJnBS\",\"playIcon\":\"controlbar_playIcon__3NEJD\",\"fadeIn\":\"controlbar_fadeIn__3QNks\"};","const SET_TIME = \"videoTime/SET_TIME\" as const;\r\n\r\nexport const setTime = (time: number) => ({\r\n  type: SET_TIME,\r\n  videoTime: time,\r\n});\r\n\r\ntype setTimeAction = ReturnType<typeof setTime>;\r\n\r\ntype videoTimeState = {\r\n  videoTime: number;\r\n};\r\n\r\nconst initialState: videoTimeState = {\r\n  videoTime: 0,\r\n};\r\n\r\nfunction setVideoTime(\r\n  state: videoTimeState = initialState,\r\n  action: setTimeAction\r\n): videoTimeState {\r\n  switch (action.type) {\r\n    case SET_TIME: {\r\n      return { videoTime: action.videoTime };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default setVideoTime;\r\n","import firebase from 'firebase/app'\r\nrequire('firebase/auth')\r\nrequire(\"firebase/firestore\");\r\nrequire(\"firebase/storage\");\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDUEzme_wp01pss9CcD8TEmvrNkbkbEb1Y\",\r\n    authDomain: \"kixlab-music.firebaseapp.com\",\r\n    projectId: \"kixlab-music\",\r\n    storageBucket: \"kixlab-music.appspot.com\",\r\n    messagingSenderId: \"1022438807541\",\r\n    appId: \"1:1022438807541:web:3d32f559ac72c1f710b2bc\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\n// export const firestore = firebase.firestore();\r\n// var db = firebase.firestore();\r\n\r\nexport default firebase;\r\n","import { Dispatch } from \"react\";\r\nimport firebase from \"../../firebase\";\r\n\r\nvar db = firebase.firestore();\r\n\r\nconst SET_COLLECTION = \"noteCollection/SET_COLLECTION\" as const;\r\n\r\nexport const setCollection = (collection: any[]) => ({\r\n  type: SET_COLLECTION,\r\n  payload: {\r\n    collection,\r\n  },\r\n});\r\n\r\nexport const setCollectionFromDB = (\r\n  videoName: string,\r\n  videoDuration: number\r\n) => (dispatch: Dispatch<setCollectionAction>) => {\r\n  const collection: any = [];\r\n  const ref = db\r\n    .collection(\"videos\")\r\n    .doc(videoName)\r\n    .collection(\"note\")\r\n    .orderBy(\"videoTimestamp\");\r\n  ref.get().then((snap) => {\r\n    snap.forEach((doc) => {\r\n      if (doc.data().videoTimestamp < videoDuration)\r\n        collection.push(doc.data());\r\n    });\r\n    dispatch(setCollection(collection));\r\n  });\r\n};\r\n\r\ntype setCollectionAction = ReturnType<typeof setCollection>;\r\n\r\ntype noteCollectionState = {\r\n  noteCollection: any[];\r\n};\r\n\r\nconst initialState: noteCollectionState = {\r\n  noteCollection: [],\r\n};\r\n\r\n// const onCollectionUpdate = (querySnapshot: any) => {\r\n//   // return collection;\r\n// };\r\n\r\nfunction setNoteCollection(\r\n  state: noteCollectionState = initialState,\r\n  action: setCollectionAction\r\n): noteCollectionState {\r\n  switch (action.type) {\r\n    case SET_COLLECTION: {\r\n      // const collection: any = [];\r\n      // const ref = db\r\n      //   .collection(\"videos\")\r\n      //   .doc(action.payload.videoName)\r\n      //   .collection(\"note\")\r\n      //   .orderBy(\"videoTimestamp\");\r\n      // ref.get().then((snap) => {\r\n      //   snap.forEach((doc) => {\r\n      //     //   console.log(\r\n      //     //     \"DATA!\",\r\n      //     //     doc.data().videoTimestamp,\r\n      //     //     action.payload.videoDuration\r\n      //     //   );\r\n      //     if (doc.data().videoTimestamp < action.payload.videoDuration)\r\n      //       collection.push(doc.data());\r\n      //   });\r\n      // });\r\n      // setTimeout(() => {\r\n      //   console.log()\r\n      // }, 5000); //   console.log(\"Collection\", collection);\r\n      //   const collection = action.noteCollection;\r\n      return { ...state, noteCollection: action.payload.collection };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default setNoteCollection;\r\n","const SET_DTIME = \"videoDuration/SET_DTIME\" as const;\r\n\r\nexport const setDTime = (time: number) => ({\r\n  type: SET_DTIME,\r\n  videoDuration: time,\r\n});\r\n\r\ntype setTimeAction = ReturnType<typeof setDTime>;\r\n\r\ntype videoDurationState = {\r\n  videoDuration: number;\r\n};\r\n\r\nconst initialState: videoDurationState = {\r\n  videoDuration: 0,\r\n};\r\n\r\nfunction setVideoDTime(\r\n  state: videoDurationState = initialState,\r\n  action: setTimeAction\r\n): videoDurationState {\r\n  switch (action.type) {\r\n    case SET_DTIME: {\r\n      return { ...state, videoDuration: action.videoDuration };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default setVideoDTime;\r\n","import { combineReducers } from \"redux\";\r\nimport setVideoTime from \"./videoTime\";\r\nimport setNoteCollection from \"./noteCollection\";\r\nimport setVideoDTime from \"./videoDuration\";\r\n\r\nconst rootReducer = combineReducers({\r\n  setVideoTime,\r\n  setNoteCollection,\r\n  setVideoDTime,\r\n});\r\n\r\nexport default rootReducer;\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n","import React, { useContext } from \"react\";\r\n\r\nconst VideoElementContext = React.createContext<\r\n  VideoElementContextType | undefined\r\n>(undefined);\r\ntype VideoElementContextType = {\r\n  videoElement: HTMLVideoElement | any;\r\n  setVideoElement: (value: HTMLVideoElement | any) => void;\r\n};\r\n\r\nexport const useVideoElement = () => React.useContext(VideoElementContext);\r\nexport const VideoElementProvider = ({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) => {\r\n  const [videoElement, setVideoElement] = React.useState(null);\r\n  React.useEffect(() => {\r\n    setVideoElement(null);\r\n  }, []);\r\n\r\n  return (\r\n    <VideoElementContext.Provider value={{ videoElement, setVideoElement }}>\r\n      {children}\r\n    </VideoElementContext.Provider>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef, createRef } from \"react\";\r\nimport firebase from \"./firebase\";\r\nimport { Button, Tag } from \"antd\";\r\nimport { LikeOutlined } from \"@ant-design/icons\";\r\nimport \"./note-collection.css\";\r\n// import { LeakAddTwoTone } from \"@material-ui/icons\";\r\nimport { useVideoElement } from \"./VideoElementContext\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\nimport { setTime } from \"./redux/modules/videoTime\";\r\nimport { setCollectionFromDB } from \"./redux/modules/noteCollection\";\r\nimport { ViewArrayOutlined } from \"@material-ui/icons\";\r\n\r\nconst toTimeString = (seconds: number) => {\r\n  return new Date(seconds * 1000).toUTCString().match(/(\\d\\d:\\d\\d:\\d\\d)/)![0];\r\n};\r\n\r\nconst { CheckableTag } = Tag;\r\ninterface noteCollectionProps {}\r\nconst tagsData = [\"Awesome\", \"What If\", \"What & Why\", \"Difficult\", \"Useful\"];\r\n// const { Header, Footer, Sider, Content } = Layout;\r\nconst NoteCollection: React.FC<noteCollectionProps> = (props) => {\r\n  // const ref = db\r\n  //   .collection(\"videos\")\r\n  //   .doc(\"testvideo1\")\r\n  //   .collection(\"note\")\r\n  //   .orderBy(\"videoTimestamp\");\r\n  // var unsubscribe = null;\r\n  // const [collection, setCollection] = useState<any[]>([]);\r\n  // const [rightOpen, setRightOpen] = useState(true);\r\n  const collection = useSelector(\r\n    (state: RootState) => state.setNoteCollection.noteCollection\r\n  );\r\n\r\n  const [filter, setFilter] = useState<string[]>(tagsData);\r\n  const [filteredCollection, setFilteredCollection] = useState<any[]>(\r\n    collection\r\n  );\r\n  // const [noteLayout, setNoteLayout] = useState<any[]>();\r\n  const refList = useRef<any[]>([]);\r\n  const { videoElement } = useVideoElement()!;\r\n\r\n  const videoTime = useSelector(\r\n    (state: RootState) => state.setVideoTime.videoTime\r\n  );\r\n  const videoDTime = useSelector(\r\n    (state: RootState) => state.setVideoDTime.videoDuration\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const setVideoTime = (time: number) => {\r\n    dispatch(setTime(time));\r\n  };\r\n\r\n  const [prevFocusedTime, setPrevFocusedTime] = useState<number>(0);\r\n  // var originalCollection = null;\r\n  // console.log(videoTime)\r\n\r\n  useEffect(() => {\r\n    // const unsubscribe = ref.onSnapshot((snap) => {\r\n    //   if (collection.length === 0) {\r\n    //     const _collection: any = [];\r\n    //     snap.forEach((doc: any) => {\r\n    //       _collection.push(doc.data());\r\n    //     });\r\n    //     setCollection(_collection);\r\n    //     setFilteredCollection(_collection);\r\n    //     console.log(\"onCollectionUpdate\", _collection);\r\n    //   }\r\n    // });\r\n    dispatch(setCollectionFromDB(\"testvideo1\", videoDTime));\r\n    // setFilteredCollection(collection);\r\n\r\n    // console.log(\"inUseEffect\", videoDTime);\r\n  }, [dispatch, videoDTime]);\r\n\r\n  useEffect(() => {\r\n    setFilteredCollection(collection);\r\n  }, [collection]);\r\n\r\n  useEffect(() => {\r\n    if (filteredCollection) {\r\n      refList.current = refList.current.slice(0, filteredCollection.length);\r\n      console.log(refList, filteredCollection);\r\n    }\r\n  }, [collection, filteredCollection]);\r\n\r\n  const linkToTime = (time: number) => {\r\n    setVideoTime(time);\r\n    setPrevFocusedTime(time);\r\n    checkClosest(time);\r\n    videoElement.currentTime = time;\r\n  };\r\n  const Notecomponent = ({ note }: any) => {\r\n    const [likes, setLikes] = useState(0);\r\n    const videoTime_num: number = note.videoTimestamp;\r\n    const noteCategory: string = note.category;\r\n    const noteCategoryList: string[] = noteCategory.split(\" \");\r\n    const noteCategoryClassName: string = noteCategoryList[noteCategoryList.length-1].toLowerCase();\r\n    const time_str: string = toTimeString(videoTime_num);\r\n\r\n    const onClickLikeButton = () => {\r\n      setLikes(prev=>prev+1);\r\n    }\r\n    return (\r\n      <>\r\n        <div className=\"notecategory\">\r\n          <div className={noteCategoryClassName}>{noteCategory}</div>\r\n          <div onClick={() => linkToTime(videoTime_num)}>({time_str})</div>\r\n        </div>\r\n        <div className=\"singlenote\">\r\n          <b className=\"noteheader\">\r\n            {note.userId}\r\n            <div style={{fontWeight: \"normal\", color: \"rgb(4, 22, 54)\", position: \"relative\", marginLeft: \"180px\"}}>{likes}</div>\r\n            <Button\r\n              type=\"primary\"\r\n              shape=\"round\"\r\n              icon={<LikeOutlined />}\r\n              size=\"small\"\r\n              onClick={onClickLikeButton}\r\n            />\r\n          </b>\r\n          {note.content}\r\n          <br />\r\n          {note.downloadURL && (\r\n            <img className=\"noteimg\" src={note.downloadURL} alt=\"\" />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const checkClosest = (currentTime: number) => {\r\n    var data: number[] = [];\r\n    filteredCollection.map((note, i) => data.push(note.videoTimestamp));\r\n    var target = currentTime; //21에 가장 가까운값 찾기\r\n    // var near = 0;\r\n    var abs = 0; //여기에 가까운 수'20'이 들어감\r\n    var min = 10000000; //해당 범위에서 가장 큰 값\r\n    var refIndex = 0;\r\n    //[2] Process\r\n    for (var i = 0; i < data.length; i++) {\r\n      abs = data[i] - target < 0 ? -(data[i] - target) : data[i] - target;\r\n\r\n      if (abs < min) {\r\n        min = abs; //MIN\r\n        // near = data[i] //near : 가까운값\r\n        refIndex = i;\r\n      }\r\n    }\r\n    // console.log(\"InCheckClosest\", videoTime,data,currentTime,near,refIndex);\r\n    if (refList.current[refIndex]) {\r\n      refList.current[refIndex].scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n        inline: \"center\",\r\n      });\r\n    }\r\n  };\r\n  if (videoTime - prevFocusedTime > 10) {\r\n    console.log(\"FOCUS!!\", videoTime, prevFocusedTime);\r\n    checkClosest(videoTime);\r\n    setPrevFocusedTime(videoTime);\r\n  }\r\n\r\n  // const onCollectionUpdate = (querySnapshot: any) => {\r\n  //   const _collection: any = [];\r\n  //   querySnapshot.forEach((doc: any) => {\r\n  //     _collection.push(doc.data());\r\n  //   });\r\n  //   setCollection(_collection);\r\n  //   console.log(\"onCollectionUpdate\", _collection);\r\n  // };\r\n\r\n  const handleChange = (tag: string, checked: boolean) => {\r\n    const nextSelectedTags = checked\r\n      ? [...filter, tag]\r\n      : filter.filter((t) => t !== tag);\r\n    setFilter(nextSelectedTags);\r\n    let _filteredCollection = collection.filter((item: any) => {\r\n      if (\r\n        nextSelectedTags.length > 0 &&\r\n        nextSelectedTags.indexOf(item.category) > -1\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    // setFilteredCollection(_filteredCollection);\r\n    console.log(\"FILT ;\", nextSelectedTags, _filteredCollection);\r\n    return _filteredCollection;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"collection\">\r\n        <div style={{margin: \"10px\"}}>\r\n        {tagsData.map((tag) => (\r\n          <CheckableTag\r\n            key={tag}\r\n            checked={filter.indexOf(tag) > -1}\r\n            onChange={(checked) =>\r\n              setFilteredCollection(handleChange(tag, checked))\r\n            }\r\n          >\r\n            {tag}\r\n          </CheckableTag>\r\n        ))}\r\n        </div>\r\n        {tagsData === filter\r\n          ? collection.map((note: any, index: any) => (\r\n              <div key={index} ref={(el) => (refList.current[index] = el)}>\r\n                <Notecomponent note={note} key={index} />\r\n              </div>\r\n            ))\r\n          : filteredCollection.map((note: any, index: any) => (\r\n              <div key={index} ref={(el) => (refList.current[index] = el)}>\r\n                <Notecomponent note={note} key={index} />\r\n              </div>\r\n            ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteCollection;\r\n","import React, { useState, useImperativeHandle } from \"react\";\r\nimport { Editor, EditorState, ContentState } from \"draft-js\";\r\nimport \"draft-js/dist/Draft.css\";\r\nimport \"./note-taking.css\";\r\nimport { Slider, Button, Radio, Popover, message } from \"antd\";\r\nimport firebase from \"./firebase\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport CanvasDraw from \"react-canvas-draw\";\r\nimport { CompactPicker } from \"react-color\";\r\nimport { PictureOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  ColorLens,\r\n  LineWeight,\r\n  Undo,\r\n  Delete,\r\n  Save,\r\n  Clear,\r\n} from \"@material-ui/icons\";\r\nimport captureVideoFrame from \"capture-video-frame\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\nimport { useVideoElement } from \"./VideoElementContext\";\r\nimport { setTime } from \"./redux/modules/videoTime\";\r\nimport { setCollectionFromDB } from \"./redux/modules/noteCollection\";\r\n\r\nvar db = firebase.firestore();\r\nvar storage = firebase.storage();\r\ninterface noteTakingProps {\r\n  userId: string;\r\n  nowPlaying: any;\r\n  setIsFocused: any;\r\n  setonEdit: any;\r\n}\r\n\r\ntype CountdownHandle = {\r\n  clearEditor: () => void;\r\n};\r\n\r\nconst NoteTaking = React.forwardRef(\r\n  (props: noteTakingProps, ref: React.Ref<CountdownHandle>) => {\r\n    const [editorState, seteditorState] = useState<EditorState>(\r\n      EditorState.createEmpty()\r\n    );\r\n    const [image, setImage] = useState<any>(null);\r\n    const [canvas, setCanvas] = useState<any>(null);\r\n    const [showCanvas, setshowCanvas] = useState<boolean>(false);\r\n    const [showColorPicker, setColorPicker] = useState<boolean>(false);\r\n    const [editorColor, seteditorColor] = useState<any>(\"#000000\");\r\n    const [showRadius, setshowRadius] = useState<boolean>(false);\r\n    const [brushRadius, setbrushRadius] = useState<number>(3);\r\n    const [noteCategory, setnoteCategory] = useState<string>(\"Awesome\");\r\n    const [placeholder, setplaceholder] = useState<string>(\r\n      \"This is such a useful tip because...\"\r\n    );\r\n\r\n    const videoTime = useSelector(\r\n      (state: RootState) => state.setVideoTime.videoTime\r\n    );\r\n    const videoDTime = useSelector(\r\n      (state: RootState) => state.setVideoDTime.videoDuration\r\n    );\r\n    const { videoElement, setVideoElement } = useVideoElement()!;\r\n    const dispatch = useDispatch();\r\n\r\n    const setVideoTime = (time: number) => {\r\n      dispatch(setTime(time));\r\n    };\r\n\r\n    const handleChange = (e: EditorState) => {\r\n      seteditorState(e);\r\n      if (e.getCurrentContent().hasText()) {\r\n        props.setonEdit(true);\r\n      } else {\r\n        if (!showCanvas) {\r\n          props.setonEdit(false);\r\n        } else {\r\n          props.setonEdit(true);\r\n        }\r\n      }\r\n    };\r\n    const submitNote = () => {\r\n      const noteCollection = db\r\n        .collection(\"videos\")\r\n        .doc(\"testvideo1\")\r\n        .collection(\"note\");\r\n      //console.log(this.props.screenshot);\r\n\r\n      const id: string = uuid();\r\n      const ref: string = \"screenshots/\" + id + \".png\";\r\n\r\n      if (image != null) {\r\n        storage\r\n          .ref(ref)\r\n          .putString(image, \"data_url\")\r\n          .then((snapshot) =>\r\n            snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n              console.log(\"download:    \", downloadURL);\r\n              noteCollection.add({\r\n                category: noteCategory,\r\n                content: editorState.getCurrentContent().getPlainText(\"\\u0001\"),\r\n                //timestamp: \"\",\r\n                userId: props.userId,\r\n                videoTimestamp: videoTime,\r\n                downloadURL: downloadURL,\r\n              });\r\n            })\r\n          );\r\n      } else {\r\n        noteCollection.add({\r\n          category: noteCategory,\r\n          content: editorState.getCurrentContent().getPlainText(\"\\u0001\"),\r\n          //timestamp: \"\",\r\n          userId: props.userId,\r\n          videoTimestamp: videoTime,\r\n          downloadURL: \"\",\r\n        });\r\n      }\r\n      seteditorState(\r\n        EditorState.push(\r\n          editorState,\r\n          ContentState.createFromText(\"\"),\r\n          \"remove-range\"\r\n        )\r\n      );\r\n      dispatch(setCollectionFromDB(\"testvideo1\", videoDTime));\r\n\r\n      setshowCanvas(false);\r\n      message.success(\"Note is saved!\");\r\n    };\r\n\r\n    const changeplaceholder = (category: string) => {\r\n      if (category === \"Awesome\") {\r\n        setplaceholder(\"This is such a useful tip because...\");\r\n      } else if (category === \"Difficult\") {\r\n        setplaceholder(\"Watch out doing this part because...\");\r\n      } else if (category === \"What If\") {\r\n        setplaceholder(\"Instead of ..., How about ...?\");\r\n      } else if (category === \"What & Why\") {\r\n        setplaceholder(\"Why in this part ...?\");\r\n      } else {\r\n        setplaceholder(\"\");\r\n      }\r\n    };\r\n\r\n    const onChange = (e: any) => {\r\n      // console.log(`radio checked:${e.target.value}`);\r\n      setnoteCategory(e.target.value);\r\n      changeplaceholder(e.target.value);\r\n    };\r\n\r\n    useImperativeHandle(ref, () => ({\r\n      clearEditor() {\r\n        seteditorState(\r\n          EditorState.push(\r\n            editorState,\r\n            ContentState.createFromText(\"\"),\r\n            \"remove-range\"\r\n          )\r\n        );\r\n        setshowCanvas(false);\r\n        props.setonEdit(false);\r\n      },\r\n    }));\r\n\r\n    // const clearEditor = () => {\r\n    //   seteditorState(\r\n    //     EditorState.push(\r\n    //       editorState,\r\n    //       ContentState.createFromText(\"\"),\r\n    //       \"remove-range\"\r\n    //     )\r\n    //   );\r\n    //   setshowCanvas(false);\r\n    // };\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Radio.Group\r\n            className=\"category-group\"\r\n            onChange={onChange}\r\n            defaultValue=\"Awesome\"\r\n          >\r\n            <Radio.Button className=\"category-entry\" value=\"Awesome\">\r\n              Awesome\r\n            </Radio.Button>\r\n            <Radio.Button className=\"category-entry\" value=\"What If\">\r\n              What If\r\n            </Radio.Button>\r\n            <Radio.Button className=\"category-entry\" value=\"What & Why\">\r\n              What & Why\r\n            </Radio.Button>\r\n            <Radio.Button className=\"category-entry\" value=\"Difficult\">\r\n              Difficult\r\n            </Radio.Button>\r\n          </Radio.Group>\r\n          <Button\r\n            type=\"primary\"\r\n            shape=\"round\"\r\n            icon={<PictureOutlined />}\r\n            onClick={() => {\r\n              props.setonEdit(true);\r\n              videoElement.pause();\r\n              props.nowPlaying(false);\r\n              var frame = captureVideoFrame(videoElement, \"png\", 1);\r\n              setImage(frame.dataUri);\r\n              setshowCanvas(true);\r\n            }}\r\n          >\r\n            Take a Screenshot and Draw\r\n          </Button>\r\n          <div className=\"draft-root\">\r\n            <Editor\r\n              editorState={editorState}\r\n              placeholder={placeholder}\r\n              onChange={(e) => handleChange(e)}\r\n              onFocus={() => {\r\n                videoElement.pause();\r\n                props.nowPlaying(false);\r\n                props.setIsFocused(true);\r\n              }}\r\n              onBlur={() => {\r\n                props.setIsFocused(false);\r\n              }}\r\n            />\r\n            <Button type=\"primary\" onClick={submitNote}>\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"note-taking-container\">\r\n          {showCanvas && (\r\n            <div className=\"screenshot-editor-container\">\r\n              <div className=\"screenshot-picture-container\">\r\n                <CanvasDraw\r\n                  ref={(canvas: any) => {\r\n                    setCanvas(canvas);\r\n                  }}\r\n                  imgSrc={image}\r\n                  canvasWidth=\"30vw\"\r\n                  canvasHeight=\"24vw\"\r\n                  lazyRadius=\"0\"\r\n                  brushColor={editorColor}\r\n                  brushRadius={brushRadius}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Popover placement=\"bottom\" content=\"Brush Color\">\r\n                  <Button\r\n                    onClick={() => {\r\n                      setColorPicker(!showColorPicker);\r\n                      setshowRadius(false);\r\n                    }}\r\n                  >\r\n                    <ColorLens />\r\n                  </Button>\r\n                </Popover>\r\n                <Popover placement=\"bottom\" content=\"Brush Radius\">\r\n                  <Button\r\n                    onClick={() => {\r\n                      setColorPicker(false);\r\n                      setshowRadius(!showRadius);\r\n                    }}\r\n                  >\r\n                    <LineWeight />\r\n                  </Button>\r\n                </Popover>\r\n                <Popover placement=\"bottom\" content=\"Undo\">\r\n                  <Button\r\n                    onClick={() => {\r\n                      canvas.undo();\r\n                    }}\r\n                  >\r\n                    <Undo />\r\n                  </Button>\r\n                </Popover>\r\n                <Popover placement=\"bottom\" content=\"Clear\">\r\n                  <Button\r\n                    onClick={() => {\r\n                      canvas.clear();\r\n                    }}\r\n                  >\r\n                    <Delete />\r\n                  </Button>\r\n                </Popover>\r\n                <Popover placement=\"bottom\" content=\"Save\">\r\n                  <Button\r\n                    onClick={() => {\r\n                      let baseCanvas = canvas.canvasContainer.children[3];\r\n                      let baseCanvasContex = baseCanvas.getContext(\"2d\");\r\n                      baseCanvasContex.drawImage(\r\n                        canvas.canvasContainer.children[1],\r\n                        0,\r\n                        0\r\n                      ); // add drawing\r\n                      setImage(baseCanvas.toDataURL());\r\n                    }}\r\n                  >\r\n                    <Save />\r\n                  </Button>\r\n                </Popover>\r\n                <Popover placement=\"bottom\" content=\"Discard\">\r\n                  <Button\r\n                    onClick={() => {\r\n                      var confirm: boolean = window.confirm(\r\n                        \"Do you want to discard the screenshot?\"\r\n                      );\r\n                      if (confirm) {\r\n                        if (!editorState.getCurrentContent().hasText()) {\r\n                          props.setonEdit(false);\r\n                        }\r\n                        setImage(null);\r\n                        setshowCanvas(false);\r\n                      } else {\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Clear />\r\n                  </Button>\r\n                </Popover>\r\n              </div>\r\n\r\n              <div>\r\n                {showColorPicker ? (\r\n                  <div>\r\n                    <CompactPicker\r\n                      color={editorColor}\r\n                      onChange={(color) => {\r\n                        seteditorColor(color.hex);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {showRadius ? (\r\n                  <div className=\"lineweight-container\">\r\n                    <Slider\r\n                      min={1}\r\n                      max={10}\r\n                      onChange={(value: React.SetStateAction<number>) => {\r\n                        setbrushRadius(value);\r\n                      }}\r\n                      value={typeof brushRadius === \"number\" ? brushRadius : 3}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default NoteTaking;\r\n","const toTimeString = (second: number) => {\r\n    const date = new Date(second * 1000);\r\n  \r\n    const hh = date.getUTCHours();\r\n    const mm = date.getUTCMinutes();\r\n    const ss = date.getSeconds();\r\n  \r\n    const formattedHour = hh + \":\";\r\n    const formattedMinute = mm + \":\";\r\n    const formattedSecond = (ss < 10 ? \"0\" : \"\") + ss;\r\n  \r\n    return formattedHour + formattedMinute + formattedSecond;\r\n  };\r\n  \r\n  export default toTimeString;","import classNames from \"classnames\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport styles from \"./progressBar.module.css\";\r\nimport {\r\n  EnvironmentFilled,\r\n  BulbFilled,\r\n  LikeFilled,\r\n  AlertFilled,\r\n  QuestionCircleFilled,\r\n  PlusCircleFilled,\r\n} from \"@ant-design/icons\";\r\nimport { ReplyRounded } from \"@material-ui/icons\";\r\nimport firebase from \"./firebase\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\n\r\nvar db = firebase.firestore();\r\n\r\ninterface NoteIconProps {\r\n  max: number;\r\n  onChange: (progress: number) => void;\r\n}\r\n\r\nconst NoteIcon: React.FC<NoteIconProps> = ({ max, onChange }) => {\r\n  const videoTime = useSelector(\r\n    (state: RootState) => state.setVideoTime.videoTime\r\n  );\r\n\r\n  // const [ref, setRef] = useState(\r\n  //   db\r\n  //     .collection(\"videos\")\r\n  //     .doc(\"testvideo1\")\r\n  //     .collection(\"note\")\r\n  //     .orderBy(\"videoTimestamp\")\r\n  // );\r\n  // var unsubscribe = null;\r\n  const collection = useSelector(\r\n    (state: RootState) => state.setNoteCollection.noteCollection\r\n  );\r\n\r\n  useEffect(() => {\r\n    // unsubscribe = ref.onSnapshot(onCollectionUpdate);\r\n  }, []);\r\n\r\n  // const onCollectionUpdate = (querySnapshot: any) => {\r\n  //   const collection: any = [];\r\n  //   querySnapshot.forEach((doc: any) => {\r\n  //     collection.push(doc.data());\r\n  //   });\r\n  //   setCollection(collection);\r\n  // };\r\n  const percentNum = (videoTime / max || 0) * 100;\r\n  const percent = `${percentNum}%`;\r\n  const firstStep = 120;\r\n  const secondStep = 90;\r\n\r\n  const NoteBubble = ({ note }: any) => {\r\n    const [showNote, setshowNote] = useState(false);\r\n    const [size, setsize] = useState(\"20px\");\r\n    const videoTime_num: number = note.videoTimestamp;\r\n\r\n    const notepos = (videoTime_num / max || 0) * 100;\r\n    const fitpos = ((50 - notepos) / 50) * 9; // 9 = radius of controller\r\n    const notepospercent = `${notepos}%`;\r\n    const fitpospx = `${fitpos}px`;\r\n    const notecategory = note.category;\r\n    var bubblecolor = \"#FFFFFF\";\r\n    switch (notecategory) {\r\n      case \"Awesome\":\r\n        bubblecolor = \"#fff566\";\r\n        break;\r\n      case \"What If\":\r\n        bubblecolor = \"#91d5ff\";\r\n        break;\r\n      case \"Difficult\":\r\n        bubblecolor = \"#ff7875\";\r\n        break;\r\n      case \"What & Why\":\r\n        bubblecolor = \"#95de64\";\r\n        break;\r\n    }\r\n    return (\r\n      <div>\r\n        <EnvironmentFilled\r\n          onMouseOver={() => {\r\n            setshowNote(true);\r\n            setsize(\"25px\");\r\n          }}\r\n          onMouseOut={() => {\r\n            setshowNote(false);\r\n            setsize(\"20px\");\r\n          }}\r\n          onClick={() => {\r\n            onChange((note.videoTimestamp / max) * 100);\r\n          }}\r\n          className={styles.noteicon}\r\n          style={{\r\n            left: `calc(${notepospercent} + ${fitpospx})`,\r\n            bottom: \"10px\",\r\n            fontSize: size,\r\n            color: bubblecolor,\r\n          }}\r\n        />\r\n        {showNote && <ShowNote note={note} />}\r\n      </div>\r\n    );\r\n  };\r\n  function Icon(category: any) {\r\n    switch (category.category) {\r\n      case \"Awesome\":\r\n        return <BulbFilled style={{ fontSize: \"20px\", color: \"#F2C94C\" }} />;\r\n\r\n      case \"What If\":\r\n        return (\r\n          <PlusCircleFilled style={{ fontSize: \"20px\", color: \"#40a9ff\" }} />\r\n        );\r\n\r\n      case \"Difficult\":\r\n        return <AlertFilled style={{ fontSize: \"20px\", color: \"#ff4d4f\" }} />;\r\n      case \"What & Why\":\r\n        return (\r\n          <QuestionCircleFilled\r\n            style={{ fontSize: \"20px\", color: \"#69c0ff\" }}\r\n          />\r\n        );\r\n\r\n      default:\r\n        return (\r\n          <QuestionCircleFilled\r\n            style={{ fontSize: \"20px\", color: \"#F2C94C\" }}\r\n          />\r\n        );\r\n    }\r\n  }\r\n\r\n  const ShowNote = ({ note }: any) => {\r\n    return (\r\n      <div className={styles.notecontainer}>\r\n        <div className={styles.categorybg}>\r\n          <Icon category={note.category} />\r\n          <div>{note.category}</div>\r\n        </div>\r\n        <div className={styles.livenotecontent}>\r\n          <div>{note.content}</div>\r\n        </div>\r\n        <div className={styles.reactionscontainer}>\r\n          <div className={styles.reaction}>\r\n            <LikeFilled />\r\n          </div>\r\n          <div className={styles.rotate180}>\r\n            <ReplyRounded />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      {collection.map((note: any, index: any) => (\r\n        <div>\r\n          <NoteBubble\r\n            note={note}\r\n            key={index}\r\n            style={{ position: \"relative\" }}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteIcon;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./progressBar.module.css\";\r\n\r\ninterface ShowTimeProps {\r\n  timestamp: string;\r\n  stampPos: string;\r\n}\r\n\r\nconst ShowTime: React.FC<ShowTimeProps> = ({ timestamp, stampPos }) => {\r\n  return (\r\n    <div\r\n      className={styles.timestamp}\r\n      style={{ left: stampPos, color: \"#FFFFFF\" }}\r\n    >\r\n      {timestamp}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowTime;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./progressBar.module.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\nimport ShowTime from \"./ShowTime\";\r\n\r\ninterface TimeProps {\r\n  max: number;\r\n  onChange: (progress: number) => void;\r\n  onMouseDown: () => void;\r\n  onMouseUp: () => void;\r\n}\r\n\r\nconst TimeProgressBar: React.FC<TimeProps> = ({\r\n  max,\r\n  onChange,\r\n  onMouseDown,\r\n  onMouseUp,\r\n}) => {\r\n  const videoTime = useSelector(\r\n    (state: RootState) => state.setVideoTime.videoTime\r\n  );\r\n  const [mouseIsOn, setmouseIsOn] = useState<boolean>(false);\r\n  const [timestamp, settimestamp] = useState<string>(\"\");\r\n  const [stampPos, setstampPos] = useState<string>(\"0px\");\r\n\r\n  const percentNum = (videoTime / max || 0) * 100;\r\n  const percent = `${percentNum}%`;\r\n\r\n  const toTimeString = (seconds: number) => {\r\n    return new Date(seconds * 1000).toUTCString().match(/(\\d\\d:\\d\\d:\\d\\d)/)![0];\r\n  };\r\n\r\n  function ShowTimeStamp(\r\n    event: React.MouseEvent<HTMLInputElement, MouseEvent>\r\n  ) {\r\n    const clientWidth = (event.target as HTMLInputElement).clientWidth - 18;\r\n    var percent: number = (event.nativeEvent.offsetX - 9) / clientWidth;\r\n    if (percent < 0) {\r\n      percent = 0;\r\n    } else if (percent > 1) {\r\n      percent = 1;\r\n    }\r\n    const timestamp: string = toTimeString(percent * max);\r\n\r\n    setmouseIsOn(true);\r\n    settimestamp(timestamp);\r\n    setstampPos(event.nativeEvent.offsetX - 20 + \"px\");\r\n  }\r\n  return (\r\n    <div className={styles.bar} style={{ width: percent }}>\r\n      {mouseIsOn && <ShowTime timestamp={timestamp} stampPos={stampPos} />}\r\n      <input\r\n        onChange={(e) => {\r\n          onChange(parseFloat(e.target.value));\r\n        }}\r\n        onTouchStart={onMouseDown}\r\n        onTouchEnd={onMouseUp}\r\n        onMouseMove={(e) => {\r\n          ShowTimeStamp(e);\r\n        }}\r\n        onMouseLeave={(e) => setmouseIsOn(false)}\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"100\"\r\n        step=\"0.000000001\"\r\n        value={percentNum}\r\n        className={styles.controller}\r\n      />\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimeProgressBar;\r\n","import classNames from \"classnames\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport styles from \"./progressBar.module.css\";\r\nimport { ReplyRounded } from \"@material-ui/icons\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\nimport NoteIcon from \"./NoteIcon\";\r\nimport TimeProgressBar from \"./TimeProgressBar\";\r\n\r\ninterface IProps {\r\n  max: number;\r\n  className?: string;\r\n  onChange: (progress: number) => void;\r\n  onMouseDown: () => void;\r\n  onMouseUp: () => void;\r\n  videoElement: HTMLVideoElement | null;\r\n}\r\n\r\nconst ProgressBar: React.FC<IProps> = ({\r\n  max,\r\n  className,\r\n  onChange,\r\n  onMouseDown,\r\n  onMouseUp,\r\n  videoElement,\r\n}) => {\r\n  const classProps = classNames(styles.default, className);\r\n\r\n  const videoTime = useSelector(\r\n    (state: RootState) => state.setVideoTime.videoTime\r\n  );\r\n\r\n  const firstStep = 120;\r\n  const secondStep = 90;\r\n\r\n  return (\r\n    <div className={classProps}>\r\n      <div className={styles.stepContainer}>\r\n        <div className={styles.step} style={{ width: firstStep }}>\r\n          {/* <span className={styles.tooltip} style={{ marginLeft: -firstStep/2 }}>\r\n              First Step</span> */}\r\n        </div>\r\n        <div className={styles.step} style={{ width: secondStep }}>\r\n          {/* <span className={styles.tooltip} style={{ marginLeft: -secondStep/2 }}>\r\n              Second Step</span> */}\r\n        </div>\r\n        <div className={styles.step} style={{ width: secondStep }}>\r\n          {/* <span className={styles.tooltip} style={{ marginLeft: -secondStep/2 }}>\r\n              Second Step</span> */}\r\n        </div>\r\n        <div>\r\n          <NoteIcon max={max} onChange={onChange} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.bgBar}>\r\n        <TimeProgressBar\r\n          max={max}\r\n          onChange={onChange}\r\n          onMouseDown={onMouseDown}\r\n          onMouseUp={onMouseUp}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n","export default __webpack_public_path__ + \"static/media/volume.7e77501b.png\";","import React, { useState, memo } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nimport toTimeString from \"./totimeString\";\r\nimport ProgressBar from \"./ProgressBar\";\r\n\r\nimport styles from \"./controlbar.module.css\";\r\n\r\nimport pauseIcon from \"./assets/pause.png\";\r\nimport playIcon from \"./assets/play.png\";\r\nimport muteIcon from \"./assets/mute.png\";\r\nimport volumeIcon from \"./assets/volume.png\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\n\r\ninterface IProps {\r\n  onProgressChange: (percent: number) => void;\r\n  onPlayIconClick: () => void;\r\n  startTime: number;\r\n  totalTime: number;\r\n\r\n  showControl: boolean;\r\n  nowPlaying: boolean;\r\n  videoElement: HTMLVideoElement | null;\r\n}\r\n\r\nconst Controlbar: React.FC<IProps> = ({\r\n  onProgressChange,\r\n  onPlayIconClick,\r\n  totalTime,\r\n\r\n  startTime,\r\n  showControl,\r\n  nowPlaying,\r\n  videoElement,\r\n}) => {\r\n  const [volumeClicked, setVolumeClicked] = useState(false);\r\n\r\n  const playControlClassProps = classNames(styles.playWrapper, {\r\n    [styles.fadeIn]: showControl,\r\n  });\r\n  const controlBarClassProps = classNames(styles.controlBar, {\r\n    [styles.fadeIn]: showControl,\r\n  });\r\n  const startTimeClassProps = classNames(styles.text, styles.startTime);\r\n  const endTimeClassProps = classNames(styles.text, styles.endTime);\r\n  const videoTime = useSelector(\r\n    (state: RootState) => state.setVideoTime.videoTime\r\n  );\r\n\r\n  const handleVolume = () => {\r\n    if (volumeClicked) {\r\n      if (videoElement) {\r\n        videoElement.muted = true;\r\n      }\r\n      setVolumeClicked(false);\r\n    } else {\r\n      if (videoElement) {\r\n        videoElement.muted = false;\r\n      }\r\n      setVolumeClicked(true);\r\n    }\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    if (videoElement) {\r\n      // controller를 옮긴 시점에 currentTime이 최신화 되지 않아, 이를 위해 수정\r\n      // videoElement.currentTime = currentTime;\r\n      nowPlaying ? videoElement.play() : videoElement.pause();\r\n    }\r\n    console.log(\"onMouseUp\");\r\n  };\r\n\r\n  const onMouseDown = () => {\r\n    if (videoElement) {\r\n      videoElement.pause();\r\n      console.log(\"onMouseDown\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={controlBarClassProps}>\r\n        <span className={startTimeClassProps}>{(videoTime!=null) ? toTimeString(videoTime) : toTimeString(0)}</span>\r\n        <ProgressBar\r\n          max={totalTime}\r\n          className={styles.progressBar}\r\n          onChange={onProgressChange}\r\n          onMouseDown={onMouseDown}\r\n          onMouseUp={onMouseUp}\r\n          videoElement={videoElement}\r\n        />\r\n        <span className={endTimeClassProps}>{toTimeString(totalTime)}</span>\r\n        <img\r\n          className={styles.volume}\r\n          src={volumeClicked ? volumeIcon : muteIcon}\r\n          onClick={handleVolume}\r\n          alt={\"\"}\r\n        />\r\n      </div>\r\n      <div className={playControlClassProps}>\r\n        <div className={styles.playBg}>\r\n          <img\r\n            className={styles.playIcon}\r\n            src={nowPlaying ? pauseIcon : playIcon}\r\n            onClick={onPlayIconClick}\r\n            alt={\"\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(Controlbar);\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA7HSURBVHic7d1PqK1XYcbhdwkXE5BiBpUaE/9QyEQScCAFweq4FZOMzbBOBMFRaaCjUhqHQsBRJ4IZm6B0ngaEjISIE0H8kxiDk0gRjFzI6uDs6OW2yb25nnPWXt/7PLDniy/rJT++vXMy5pzhwhjjE0m+kORjSR687fPRJDfWnY734WaS3yR5/bbPr5O8OOf85cKzcabs/zDs/y6N9gAYYzyW5InT5zOLj8P1+FGS55M8P+d8ZfVhWMf+K9n/SWUAjDEeTvKNJE8m+dTi47DWz5N8L8m35pyvrj4MV8/+uUX1/qsCYIzxQJKnk3w9yX2Lj8N5eSvJs0memXO+ufowXD775z1U7r8iAMYY9+Vi9E8neWDxcThvbyZ5Jsmzc863Vh+Gv5z98z5U7f/wATDG+FKSbyd5ePVZ2MqrSb425/zB6oNw7+yfe1Sx/w+sPsBVGmP8S5IXYvy8fw8neeF0h9iQ/fMXqNj/Id8AnF75/WeSr6w+C4fwXJJ/angleAT2zyU77P4PFwBjjL/JxX/i8Xerz8KhvJzkiTnnG6sPwruzf67IIfd/qAAYY3wyyUtJHlp7Eg7qtSSfn3P+YvVB+L/snyt2uP0fJgDGGB9K8sMkj64+C4f24ySfm3P+fvVB+DP755ocav+H+BHgGGMk+W6Mn6v3aJLvnu4cZ8D+uUaH2v8hAiDJfyR5fPUhqPF4Lu4c58H+uU6H2f/2XwGMMb6Si/qH6/bUnPO51YdoZv8stP3+tw6AMcZDSX6a5P7VZ6HSH5I8Mud8bfVBGtk/i22//92/Avi3GD/r3J+LO8ga9s9K2+9/2zcAY4xPJ3kl+0cMe3s7yWNzzp+sPkgT++dMbL3/ncfzTPY+P8fwgVzcRa6X/XMOtt7/lm8AxhifT/Lfq88Bt/j7OedLqw/RwP45Q1vuf9eC/vfVB4DbuJPXx7Pm3Gx5J7d7A3D65e+vkhziDzFwGDPJx3f+RfAO7J8zteX+d3wD8HiMn/Mz4o/RXAf75xxtuf8dA+CJ1QeAd+FuXj3PmHO13d3c6iuAMcaHk/w2yY3VZ4H/x80kH5lz/m71QY7I/jlz2+1/tzcA/xjj53zdyMUd5WrYP+dsu/3vFgD/sPoAcAfu6NXxbDl3W93R3QLgb1cfAO7AHb06ni3nbqs7ulsAPLj6AHAH7ujV8Ww5d1vd0W1+BDjGGEn+GN8Bct5uJvng3GVYm7B/NrHV/nd6A/DXMX7O341c3FUul/2zg632v1MAbPVqhWru6uXzTNnFNndVAMDlc1cvn2fKLra5qzsFwF+tPgDcJXf18nmm7GKbu7pTAAAAl0QAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhQQAABQSAABQSAAAQCEBAACFBAAAFBIAAFBIAABAIQEAAIUEAAAUEgAAUEgAAEAhAQAAhXYKgP9ZfQC4S+7q5fNM2cU2d3WnAHh99QHgLrmrl88zZRfb3FUBAJfPXb18nim72Oaujjnn6jPclTHGSPLHJDdWnwXew80kH5y7DGsT9s8mttr/Nm8ATg/0jdXngDt4Y5fx78T+2cRW+98mAE62ebVCLXf06ni2nLut7uhuAfCz1QeAO3BHr45ny7nb6o7uFgD/tfoAcAfu6NXxbDl3W93RbX4EmCRjjA8n+W38EIjzdDPJR+acv1t9kCOyf87cdvvf6g3A6cG+uPoc8C5e3Gn8u7F/ztx2+98qAE6eX30AeBfu5tXzjDlX293Nrb4CSJIxxkNJfpVkrD4L3GIm+fic87XVBzky++dMbbn/7d4AnB7wS6vPAbd5abfx78j+OVNb7n+7ADj519UHgNu4k9fHs+bcbHkntwyAOedLSb6/+hxw8v3TneQa2D9nZtv9b/cbgHeMMT6d5JVsGjEcxttJHptz/mT1QZrYP2di6/1vO57TA//O6nNQ7zu7jn9n9s+Z2Hr/274BSP70i+CfJrl/9Vmo9Ickj+z4458jsH8W237/274BSP70i+Cvrj4Htb668/h3Z/8stv3+tw6AJJlzPpfkm6vPQZ1vnu4eC9k/ixxi/1t/BfCOMcZI8r0kj68+CxVeSPLkTv/f7yOzf67ZYfZ/iABIkjHGh5L8MMmjq8/Cof04yefmnL9ffRD+zP65Jofa//ZfAbzj9A/ky0m2/k6Gs/Zaki8fZfxHYv9cg8Pt/zABkCRzzl8k+WySlxcfheN5OclnT3eMM2T/XKFD7v9QAZAkc843knwxyfY/0OBsPJfki6e7xRmzf67AYfd/uABIkjnnW3POp5I8nYu/1AT34u0kT885n5pzvrX6MNwd++eSHH7/h/kR4LsZY3wpybeTPLz6LGzl1SRfm3P+YPVBuHf2zz2q2P8h3wDc6vQP8JEk/5zkzcXH4fy9mYu78sjRx9/A/nmfqvZ/+DcAtxpjPJCL14JfT3Lf4uNwXt5K8mySZ+ac/kVxQPbPe6jcf1UAvGOM8XCSbyR5MsmnFh+HtX6eiz8i860556urD8PVs39uUb3/ygC41RjjsSRPnD6fWXwcrsePkjyf5Pk55yurD8M69l/J/k/qA+BWY4xPJPlCko8lefC2z0eT3Fh3Ot6Hm0l+k+T12z6/TvLinPOXC8/GmbL/w7D/u/S/m9L9A4GDwmcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import classNames from \"classnames\";\r\nimport React, { memo, useEffect, useRef, useState } from \"react\";\r\nimport NoteTaking from \"./note-taking\";\r\nimport Controlbar from \"./Controlbar\";\r\nimport { Slider } from \"antd\";\r\nimport LiveNote from \"./live-note\";\r\nimport \"./Video.css\";\r\nimport { useVideoElement } from \"./VideoElementContext\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"./redux/modules\";\r\nimport { setTime } from \"./redux/modules/videoTime\";\r\nimport { setDTime } from \"./redux/modules/videoDuration\";\r\n\r\ninterface IProps {\r\n  className?: string;\r\n  src: string;\r\n}\r\n\r\nconst Video: React.FC<IProps> = ({ className, src }) => {\r\n  const [nowPlaying, setNowPlaying] = useState(false);\r\n  const [showControl, setShowControl] = useState(false);\r\n  const [totalTime, setTotalTime] = useState(0);\r\n  const { videoElement, setVideoElement } = useVideoElement()!;\r\n  const [editorIsFocused, seteditorIsFocused] = useState(false);\r\n  const [onEdit, setonEdit] = useState(false);\r\n\r\n  const videoTime = useSelector(\r\n    (state: RootState) => state.setVideoTime.videoTime\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const setVideoTime = (time: number) => {\r\n    dispatch(setTime(time));\r\n  };\r\n\r\n  const ref = useRef<HTMLVideoElement>(null);\r\n\r\n  type CountdownHandle = React.ElementRef<typeof NoteTaking>;\r\n  const noteTakingRef = useRef<CountdownHandle>(null);\r\n\r\n  // const totalTime = (ref && ref.current && ref.current.duration) || 0; //총 길이\r\n  setVideoElement(ref && ref.current);\r\n\r\n  const videoSrc = src || \"\";\r\n  const startTime = Math.floor(videoTime);\r\n  const handleLoadedMDN = (e: any) => {\r\n    setTotalTime(e.target.duration);\r\n    console.log(e.target.duration);\r\n    dispatch(setDTime(e.target.duration));\r\n  };\r\n  // 동영상 시간 업데이트 함수\r\n  const addTimeUpdate = () => {\r\n    const observedVideoElement = ref && ref.current;\r\n    if (observedVideoElement) {\r\n      observedVideoElement.addEventListener(\"timeupdate\", function () {\r\n        setVideoTime(Math.floor(observedVideoElement.currentTime));\r\n      });\r\n\r\n      // 컴포넌트가 처음 마운트 될때 동영상 시작 안함\r\n      setNowPlaying(false);\r\n      // observedVideoElement.play();\r\n    }\r\n  };\r\n  const setPlaybackRate = (rate: number) => {\r\n    if (videoElement) {\r\n      videoElement.playbackRate = rate;\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    addTimeUpdate();\r\n  }, []);\r\n\r\n  // progress 이동시켰을때 실행되는 함수\r\n  const onProgressChange = (percent: number) => {\r\n    if (!showControl) {\r\n      setShowControl(true);\r\n    }\r\n    if (videoElement) {\r\n      if (onEdit) {\r\n        var confirm: boolean = window.confirm(\r\n          \"Do you want to discard the note and proceed?\"\r\n        );\r\n        if (confirm) {\r\n          const playingTime = videoElement.duration * (percent / 100);\r\n          setVideoTime(playingTime);\r\n          videoElement.currentTime = playingTime;\r\n          noteTakingRef.current!.clearEditor();\r\n        } else {\r\n        }\r\n      } else {\r\n        const playingTime = videoElement.duration * (percent / 100);\r\n        setVideoTime(playingTime);\r\n        videoElement.currentTime = playingTime;\r\n      }\r\n    }\r\n  };\r\n\r\n  // play icon 클릭했을떄 실행되는 함수\r\n  const onPlayIconClick = () => {\r\n    if (videoElement) {\r\n      if (nowPlaying) {\r\n        setNowPlaying(false);\r\n        videoElement.pause();\r\n      } else {\r\n        if (onEdit) {\r\n          var confirm: boolean = window.confirm(\r\n            \"Do you want to discard the note and proceed?\"\r\n          );\r\n          if (confirm) {\r\n            setNowPlaying(true);\r\n            videoElement.play();\r\n            noteTakingRef.current!.clearEditor();\r\n          } else {\r\n          }\r\n        } else {\r\n          setNowPlaying(true);\r\n          videoElement.play();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // control bar visible 관련 함수\r\n  // 재생중일때만 나가면 control바 안보이고 들어오면 컨드롤바 보이게\r\n  const setControlVisible = () => {\r\n    if (!showControl) {\r\n      setShowControl(true);\r\n    }\r\n  };\r\n\r\n  const setControlInvisible = () => {\r\n    if (showControl && nowPlaying) {\r\n      setShowControl(false);\r\n    }\r\n  };\r\n\r\n  const marks = {\r\n    0.5: { style: { color: \"white\" }, label: \"x0.5\" },\r\n    1: { style: { color: \"white\" }, label: \"x1\" },\r\n    1.5: { style: { color: \"white\" }, label: \"x1.5\" },\r\n    2: { style: { color: \"white\" }, label: \"x2\" },\r\n    3: { style: { color: \"white\" }, label: \"x3\" },\r\n    4: { style: { color: \"white\" }, label: \"x4\" },\r\n  };\r\n\r\n  window.onkeydown = (event: KeyboardEvent): any => {\r\n    if (event.key === \" \") {\r\n      if (!editorIsFocused) {\r\n        if (nowPlaying) {\r\n          setNowPlaying(false);\r\n          videoElement.pause();\r\n        } else {\r\n          if (onEdit) {\r\n            var confirm: boolean = window.confirm(\r\n              \"Do you want to discard the note and proceed?\"\r\n            );\r\n            if (confirm) {\r\n              setNowPlaying(true);\r\n              videoElement.play();\r\n              noteTakingRef.current!.clearEditor();\r\n            } else {\r\n            }\r\n          } else {\r\n            setNowPlaying(true);\r\n            videoElement.play();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"video-player-container\"\r\n        onMouseEnter={setControlVisible}\r\n        onMouseLeave={setControlInvisible}\r\n      >\r\n        <video\r\n          className=\"video-container\"\r\n          loop={true}\r\n          muted={true}\r\n          ref={ref}\r\n          playsInline={true}\r\n          onClick={onPlayIconClick}\r\n          onLoadedMetadata={handleLoadedMDN}\r\n          crossOrigin=\"Anonymous\"\r\n        >\r\n          <source src={videoSrc} type=\"video/mp4\" />\r\n        </video>\r\n        <Controlbar\r\n          onProgressChange={onProgressChange}\r\n          onPlayIconClick={onPlayIconClick}\r\n          totalTime={totalTime}\r\n          startTime={startTime}\r\n          showControl={showControl}\r\n          nowPlaying={nowPlaying}\r\n          videoElement={videoElement}\r\n        />\r\n      </div>\r\n      <div className=\"live-note-container\">{/* <LiveNote /> */}</div>\r\n      <div className=\"note-and-slider-container\">\r\n        <div className=\"slider-container\">\r\n          Video Speed\r\n          <Slider\r\n            id=\"playbackslider\"\r\n            marks={marks}\r\n            step={null}\r\n            defaultValue={1}\r\n            max={4}\r\n            onChange={(value: any) => setPlaybackRate(value)}\r\n          />\r\n        </div>\r\n        <NoteTaking\r\n          ref={noteTakingRef}\r\n          userId=\"TestUser\"\r\n          nowPlaying={setNowPlaying}\r\n          setIsFocused={seteditorIsFocused}\r\n          setonEdit={setonEdit}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(Video);\r\n","import React, { useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"./App.css\";\r\nimport NoteCollection from \"./note-collection\";\r\nimport { Button, Drawer, IconButton } from \"@material-ui/core\";\r\nimport { Menu, ChevronRight, ChevronLeft } from \"@material-ui/icons\";\r\nimport Video from \"./Video\";\r\nimport { VideoElementProvider } from \"./VideoElementContext\";\r\n\r\nconst drawerWidth = 360;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: drawerWidth,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  open: {\r\n    position: \"fixed\",\r\n    right: \"-25px\",\r\n    margin: \"auto\",\r\n    writingMode: \"vertical-rl\",\r\n    textOrientation: \"mixed\",\r\n    // position: \"fixed\",\r\n    top: \"20%\",\r\n    width: \"70px\",\r\n    height: \"250px\",\r\n    float: \"left\",\r\n    fontSize: \"1.5em\",\r\n    // fontWeight: \"bold\",\r\n    // backgroundColor: \"#fcf59b\",\r\n    // // borderRadius: \"0px 10px 250px / 0 200px 55px 250px\",\r\n    // borderRight: \"50px solid #555\",\r\n    // borderTop: \"25px solid transparent\",\r\n    // borderBottom: \"25px solid transparent\",\r\n    // WebkitBoxShadow: \"-3px 5px 12px 0 rgba(0,0,0,0.3)\",\r\n    // MozBoxShadow: \"-3px 5px 12px 0 rgba(0,0,0,0.3)\",\r\n    // boxShadow: \"-3px 5px 12px 0 rgba(0,0,0,0.3)\",\r\n    //-ms-transform: rotateZ(-4deg),\r\n    //-webkit-transform: rotateZ(-4deg),\r\n    //transform: rotateZ(-4deg),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginRight: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n  viewNotes: {\r\n    position: \"fixed\",\r\n    right: \"18px\",\r\n    margin: \"auto\",\r\n    writingMode: \"vertical-rl\",\r\n    textOrientation: \"mixed\",\r\n    // position: \"fixed\",\r\n    top: \"20%\",\r\n    width: \"70px\",\r\n    height: \"250px\",\r\n    float: \"left\",\r\n    fontSize: \"1em\",\r\n  }\r\n}));\r\n\r\ninterface AppProps {\r\n  history?: any;\r\n}\r\n\r\nconst App: React.FC<AppProps> = (props) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useStyles();\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <VideoElementProvider>\r\n        <div className=\"appbody\">\r\n          <div\r\n            className={clsx(classes.content, {\r\n              [classes.contentShift]: open,\r\n            })}\r\n          >\r\n            <Video src=\"http://d18d5vs125fp3l.cloudfront.net/sample.mp4\" />\r\n          </div>\r\n        </div>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          edge=\"end\"\r\n          onClick={handleDrawerOpen}\r\n          className={clsx(!open && classes.open, open && classes.hide)}\r\n        >\r\n          <div className={clsx(classes.viewNotes)}>View Notes</div>\r\n          <ChevronLeft style={{fontSize: 40}} />\r\n          {/* View Notes */}\r\n          {/* <Menu /> */}\r\n        </IconButton>\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"persistent\"\r\n          anchor=\"right\"\r\n          open={open}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n        >\r\n          <div className='closebutton'>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              <ChevronRight />\r\n            </IconButton>\r\n          </div>\r\n          <NoteCollection />\r\n        </Drawer>\r\n      </VideoElementProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport firebase from './firebase'\r\nimport './Auth.css';\r\n\r\nconst styles = {\r\n    fixSize: {\r\n      height: '600px',\r\n      width: '350px',\r\n      borderColot: 'black',\r\n    },\r\n    margin: {\r\n          marginBottom: '40px',\r\n    },\r\n}\r\ninterface LoginProps {\r\n    history?: any;\r\n}\r\nconst Login: React.FC<LoginProps> = props => {\r\n    const [email,setEmail] = useState<string>('');\r\n    const [password,setPassword] = useState<string>('');\r\n    const [error,setError] = useState<any>('');\r\n\r\n    const handleChange = (e:any) => {\r\n\r\n        if (e.target.name ===\"email\"){\r\n            setEmail(e.target.value);\r\n        }\r\n        if (e.target.name ===\"password\"){\r\n            setPassword(e.target.value);\r\n        }    \r\n    }\r\n\r\n    const handleSubmit = (e:any) => {\r\n        e.preventDefault();\r\n        // const { email, password };\r\n        firebase\r\n            .auth()\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(user => {\r\n                props.history.push('/');\r\n            })\r\n            .catch(error => {\r\n                setError(error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth--container\" style={styles.fixSize}>\r\n            <h2 style={styles.margin}>Login your account</h2>\r\n            {error && <p className=\"error-message\">{error.message}</p>}\r\n            <form onSubmit={handleSubmit}>\r\n                {/* <label htmlFor=\"username\">Username</label> */}\r\n                {/* <input type=\"text\" name=\"username\" id=\"username\" value={username} onChange={handleChange} /> */}\r\n                <label htmlFor=\"email\">Email address</label>\r\n                <input type=\"text\" name=\"email\" id=\"email\" value={email} onChange={handleChange} />\r\n                <label htmlFor=\"password\">Enter password</label>\r\n                <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    value={password}\r\n                    style={styles.margin}\r\n                    onChange={handleChange}\r\n                />\r\n                <button className=\"general-submit\" style={styles.margin} children=\"Get Started\" />\r\n                <p>Don't have an account? <Link className=\"register-btn\" to=\"/register\">Register here</Link></p>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport firebase from './firebase'\r\nimport { Link } from 'react-router-dom';\r\nimport './Auth.css';\r\n\r\n// var db = firebase.firestore();\r\n\r\nconst styles = {\r\n\tfixSize: {\r\n\t\theight: '600px',\r\n    width: '350px',\r\n    borderColot: 'black',\r\n\t},\r\n\tmargin: {\r\n\t\tmarginBottom: '40px',\r\n\t},\r\n};\r\ninterface RegisterProps {\r\n    history?: any;\r\n}\r\nconst Register: React.FC<RegisterProps> = props => {\r\n    const [username,setUsername] = useState<string>('');\r\n    const [email,setEmail] = useState<string>('');\r\n    const [password,setPassword] = useState<any>('');\r\n    const [error,setError] = useState<any>(null);\r\n\r\n    const handleChange = (e:any) => {\r\n        if (e.target.name ===\"username\"){\r\n            setUsername(e.target.value);\r\n        }\r\n        if (e.target.name ===\"email\"){\r\n            setEmail(e.target.value);\r\n        }\r\n        if (e.target.name ===\"password\"){\r\n            setPassword(e.target.value);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (e:any) => {\r\n        e.preventDefault();\r\n        // const { email, username, password, gender, birth } = this.state;\r\n        console.log(\"submit started\")\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst user = firebase.auth().currentUser;\r\n\t\t\t\tuser!\r\n\t\t\t\t\t.updateProfile({ displayName: username })\r\n\t\t\t\t\t.then(() => {\r\n                        //Update UserDB here\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tsetError({ error });\r\n\t\t\t\t\t});\r\n                console.log(\"Register success\");\r\n                props.history.push('/');\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tsetError({ error });\r\n\t\t\t});\r\n    }\r\n    return (\r\n        <div className=\"auth--container\" style={styles.fixSize}>\r\n            <h2 style={styles.margin}>Register your account</h2>\r\n            {error && <p className=\"error-message\">{error.message}</p>}\r\n            <form onSubmit={handleSubmit}>\r\n                <label htmlFor=\"username\">Username</label>\r\n                <input type=\"text\" name=\"username\" id=\"username\" value={username} onChange={handleChange} />\r\n                <label htmlFor=\"email\">Email address</label>\r\n                <input type=\"text\" name=\"email\" id=\"email\" value={email} onChange={handleChange} />\r\n                <label htmlFor=\"password\">Choose a password</label>\r\n                <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    style={styles.margin}\r\n                    value={password}\r\n                    onChange={handleChange}\r\n                />\r\n                <button className=\"general-submit\" style={styles.margin} children=\"Get Started\" />\r\n                <p>Already have an account? <Link className=\"login-btn\" to=\"/login\">Login here</Link></p>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Register;","// import { RcFile } from 'antd/lib/upload';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport App from './App';\r\nimport Login from './login';\r\nimport Register from './register';\r\nimport { auth } from './firebase';\r\n\r\ninterface AppRouterProps {\r\n    history?: any;\r\n}\r\n\r\nconst AppRouter: React.FC<AppRouterProps> = props => {\r\n    const [user,setUser] = useState<any>('');\r\n    \r\n    useEffect(() => {    // 브라우저 API를 이용하여 문서 타이틀을 업데이트합니다.\r\n        auth?.onAuthStateChanged(user => {\r\n            if (user) {\r\n                setUser(user);\r\n            } else {\r\n                setUser(null);\r\n            }\r\n        });\r\n    });\r\n    \r\n    return (\r\n        <HashRouter>\r\n            {user &&\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={App}/>\r\n                    \r\n                </Switch>\r\n            }\r\n            {!user &&\r\n                <Switch>\r\n                    <Route path=\"/login\" exact component={Login} />\r\n                    <Route path=\"/register\" exact component={Register} />\r\n                    <Route path=\"/\" exact component={Login} />\r\n                    \r\n                </Switch>\r\n            }\r\n        </HashRouter >\r\n    );\r\n}\r\n\r\nexport default AppRouter\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./redux/modules\";\r\nimport \"./index.css\";\r\nimport AppRouter from \"./AppRouter\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n/* eslint-disable no-underscore-dangle */\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n/* eslint-enable */\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AppRouter />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}